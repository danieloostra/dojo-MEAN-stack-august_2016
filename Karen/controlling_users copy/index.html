<!DOCTYPE html>
<html lang= 'en' ng-app = 'app' >
    <head>
        <meta charset="utf-8">
        <title>users</title>
        <script src = "bower_components/angular/angular.js"></script>
        <script type="text/javascript">
            var app = angular.module('app', []);

            app.controller('userController', ['$scope', function($scope){
                $scope.users = [
                    {first_name: 'Ricky', last_name: 'Martin', language: 'Ruby'},
                    {first_name: 'Bob', last_name: 'Ross', language: 'Javascript'},

                ];

                $scope.addUser = function(){
                    $scope.users.push($scope.newUser);
                    $scope.newUser = {};
                }

                $scope.printIndex = function(user){
                    console.log(user);
                }

                $scope.deleteUser = function(user){
                    $scope.users.splice(user, 1);
                }


            }]);

        </script>
    </head>
    <body>
        <div ng-controller= "userController" id ="userController">

        <h2>User Controller</h2>
            <form>
                First Name: <input type='text' ng-model = 'newUser.first_name'><br>
                Last Name: <input type='text' ng-model = 'newUser.last_name'><br>
                Favorite Language: <input type="text" ng-model = 'newUser.language'><br>
                <input type="submit" value= 'Create User' ng-click='addUser()'>
            </form>    <hr>

            <table>
                <tr>
                    <th> First Name </th>
                    <th> Last Name </th>
                    <th> Fav Language </th>
                    <th> Actions </th>
                </tr>
                <tr ng-repeat= 'x in users'>
                    <td>{{x.first_name}}</td>
                    <td>{{x.last_name}}</td>
                    <td>{{x.language}}</td>
                    <td> <input type="submit" value="Delete" ng-click='deleteUser($index)'> </td>
                </tr>
            </table>


        </div>
    </body>
</html>
